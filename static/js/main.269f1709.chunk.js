(this["webpackJsonpreact_people-table-basics"]=this["webpackJsonpreact_people-table-basics"]||[]).push([[0],{18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var a=c(7),s=c(4),n=(c(16),c(17),c(5)),r=c.n(n),l=c(2),j=(c(18),c(3));const i=()=>Object(j.jsx)("h1",{className:"title",children:"Home Page"});var h=c(0);c(20);const b=()=>Object(j.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(j.jsx)("div",{className:"Loader__content"})});function d(){return(e=500,new Promise((t=>setTimeout(t,e)))).then((()=>fetch("https://mate-academy.github.io/react_people-table/api/people.json"))).then((e=>e.json()));var e}const o="f",x=()=>{const[e,t]=Object(h.useState)([]),[c,a]=Object(h.useState)(!1),[n,i]=Object(h.useState)(!1),{slugParam:x}=Object(l.r)();return Object(h.useEffect)((()=>{a(!0),d().then((e=>{const c=e.map((t=>{const c=e.find((e=>e.name===t.fatherName)),a=e.find((e=>e.name===t.motherName)),s={...t};return c&&(s.father=c),a&&(s.mother=a),s}));t(c)})).catch((()=>{i(!0)})).finally((()=>{a(!1)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"People Page"}),Object(j.jsx)("div",{className:"block",children:Object(j.jsxs)("div",{className:"box table-container",children:[c&&Object(j.jsx)(b,{}),!c&&n&&Object(j.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!c&&0===e.length&&Object(j.jsx)("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"}),!c&&0!==e.length&&Object(j.jsxs)("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Sex"}),Object(j.jsx)("th",{children:"Born"}),Object(j.jsx)("th",{children:"Died"}),Object(j.jsx)("th",{children:"Mother"}),Object(j.jsx)("th",{children:"Father"})]})}),Object(j.jsx)("tbody",{children:e.map((e=>{const{name:t,sex:c,born:a,died:n,fatherName:l,motherName:i,slug:h,mother:b,father:d}=e;return Object(j.jsxs)("tr",{"data-cy":"person",className:r()({"has-background-warning":x===h}),children:[Object(j.jsx)("td",{children:Object(j.jsx)(s.c,{to:h,className:r()({"has-text-danger":c===o}),children:t})}),Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:b?Object(j.jsx)(s.b,{className:"has-text-danger",to:b.slug,children:b.name}):null!==i?i:"-"}),Object(j.jsx)("td",{children:d?Object(j.jsx)(s.b,{to:d.slug,children:d.name}):null!==l?l:"-"})]},h)}))})]})]})})]})},O=()=>Object(j.jsx)("h1",{className:"title",children:"Page not found"}),m=()=>Object(j.jsxs)("div",{"data-cy":"app",children:[Object(j.jsx)("nav",{"data-cy":"nav",className:"navbar is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"navbar-brand",children:[Object(j.jsx)(s.c,{className:e=>{let{isActive:t}=e;return r()("navbar-item",{"has-background-grey-lighter":t})},to:"/",children:"Home"}),Object(j.jsx)(s.c,{className:e=>{let{isActive:t}=e;return r()("navbar-item",{"has-background-grey-lighter":t})},to:"/people",children:"People"})]})})}),Object(j.jsx)("main",{className:"section",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"",element:Object(j.jsx)(i,{})}),Object(j.jsx)(l.b,{path:"home",element:Object(j.jsx)(l.a,{to:"/",replace:!0})}),Object(j.jsx)(l.b,{path:"people",element:Object(j.jsx)(x,{}),children:Object(j.jsx)(l.b,{path:":slugParam",element:Object(j.jsx)(x,{})})}),Object(j.jsx)(l.b,{path:"*",element:Object(j.jsx)(O,{})})]})})})]});Object(a.createRoot)(document.getElementById("root")).render(Object(j.jsx)(s.a,{children:Object(j.jsx)(m,{})}))}},[[21,1,2]]]);
//# sourceMappingURL=main.269f1709.chunk.js.map